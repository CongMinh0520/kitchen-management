<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Đánh Gía</title>
    <link rel="stylesheet" href="style.css">
</head>
<style>
    :root {
        --primary: #181736;
        --secondary: #252549;
        --text-color: #fff;
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: sans-serif;
    }
    
    .app {
        min-height: 100vh;
        background-color: var(--primary);
        color: var(--text-color);
        display: grid;
        place-items: center;
    }
    
    .rating {
        width: 75vw;
        display: flex;
        align-items: center;
        column-gap: 2rem;
    }
    
    .rating_average {
        width: 30%;
        background-color: var(--secondary);
        padding: 1rem;
        border-radius: .8rem;
        text-align: center;
    }
    
    .rating_average h1 {
        font-size: 3rem;
    }
    
    .rating_average .star-outer {
        position: relative;
        font-size: 2rem;
        display: inline-block;
    }
    
    .rating_average .star-outer::before {
        content: "\2605 \2605 \2605 \2605 \2605";
        color: #fff8;
    }
    
    .rating_average .star-inner {
        position: absolute;
        top: 0;
        left: 0;
        width: 0%;
        overflow: hidden;
    }
    
    .rating_average .star-inner::before {
        content: "\2605 \2605 \2605 \2605 \2605";
        color: gold;
    }
    
    .rating_average p {
        margin-top: .7rem;
        letter-spacing: .1rem;
    }
    
    .rating_progress {
        width: 70%;
    }
    
    .rating_progress-bars {
        width: 100%;
        border-collapse: collapse;
        border-spacing: 0;
    }
    .rating_progress-value{
        display: flex;
        align-items: center;
        gap: 5px;
    }
    .rating_progress-bars p {
        vertical-align: middle;
        padding: 0 1rem;
    }
    
    .rating_progress-bars p:first-child {
        width: 20%;
    }
    
    .rating_progress-bars p:last-child {
        width: 20%;
    }
    
    .rating_progress-bars .progress {
        flex: 1 1 0;
        height: 1rem;
        border-radius: 0.5rem;
        background-color: #fff;
    }
    
    .rating_progress-bars .bar {
        height: 100%;
        background-color: gold;
        border-radius: 0.5rem;
    }
    
    
    
</style>

<body>
    <div class="app">
        <div class="rating">
            <div class="rating_average">
                <h1>4.5</h1>
                <div class="star-outer">
                    <div class="star-inner" style="width: 90%"></div>
                </div>
                <p>290,291</p>
            </div>
            <div class="rating_progress">
                <div class="rating_progress-bars">
                    <!-- Corrected class name here -->
                    
                    <!-- Repeat similar structure for other star ratings -->
                </div>
            </div>
        </div>
    </div>
    <script>
        let data = [
            {
                'star': 5,
                'count': 99980,
            },
            {
                'star': 4,
                'count': 39300,
            },
            {
                'star': 3,
                'count': 25050,
            },
            {
                'star': 2,
                'count': 10070,
            },
            {
                'star': 1,
                'count': 5020,
            }
        ]

        let total_rating = 0,
            rating_based_on_stars = 0;

        data.forEach(rating => {
            total_rating += rating.count;
            rating_based_on_stars += rating.count * rating.star;
        });

        data.forEach(rating => {
            let rating_progress = `
                <div class="rating_progress-value">
                    <p>${rating.star}<span class="star">&#9733;</span></p>
                    <div class="progress">
                        <div class="bar" style="width: ${rating.count / total_rating * 100}%;"></div>
                    </div>
                    <p>${rating.count.toLocaleString()}</p>
                </div>
            `;
            document.querySelector('.rating_progress-bars').innerHTML += rating_progress;
        });
        let rating_average = (rating_based_on_stars / total_rating).toFixed(1);
        document.querySelector('.rating_average h1').innerHTML = rating_average;
        document.querySelector('.rating_average p').innerHTML = total_rating.toLocaleString();
        document.querySelector('.star-inner').style.width = (rating_average / 5) * 100 + "%";
    </script>
</body>
</html>
